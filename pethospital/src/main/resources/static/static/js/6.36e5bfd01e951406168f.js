webpackJsonp([6],{"/fF+":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("NYxO");var n={data:function(){return{searchParam:{},param:{},currentPage:1,totalCount:0,tableData:[]}},created:function(){this.searchParam.param=JSON.parse(sessionStorage.getItem("u")).uid,this.getData()},methods:{handleCurrentChange:function(t){this.searchParam.page=t-1,this.currentPage=t,this.getData()},handleDelete:function(t,e){if(this.param.cid=e.cid,null===JSON.parse(sessionStorage.getItem("u"))||void 0===JSON.parse(sessionStorage.getItem("u")).uid)this.$router.push("/login");else{this.param.uid=JSON.parse(sessionStorage.getItem("u")).uid,document.querySelector("#app").click();var a=this;this.$ajax.post("/api/removeFavorite",a.param).then(function(t){0===t.data.code?(a.$message({message:t.data.data,type:"success"}),a.getData()):a.$message({message:t.data.msg,type:"error"})}).catch(function(t){console.log(t)})}},dateFormat:function(t,e){return this.getDateTime(t[e.property])},getData:function(){var t=this;this.$ajax.post("/api/getFavorites",t.searchParam).then(function(e){t.tableData=e.data.data.content,t.totalCount=e.data.data.totalElements}).catch(function(t){console.log(t)})},goLink:function(t,e){this.$router.push({path:e,query:{cid:t.cid}})},cancel:function(){document.querySelector("#app").click()}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"banaer"},[a("div",{staticClass:"container"},[a("div",{staticClass:"head"},[t._v("我的收藏")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"漫画"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{on:{click:function(a){t.goLink(e.row,"/detail")}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"作者",prop:"author"}}),t._v(" "),a("el-table-column",{attrs:{label:"分类",prop:"tag"}}),t._v(" "),a("el-table-column",{attrs:{label:"发布时间",width:"156",getLocalTime:"",formatter:t.dateFormat,prop:"date"}}),t._v(" "),a("el-table-column",{attrs:{label:"更新章节",width:"80",prop:"chapter",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"评分",width:"50",prop:"rate"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{ref:"popover{{$index}}",staticClass:"aew",attrs:{placement:"top"}},[a("p",[t._v("删除 "+t._s(e.row.title)+" ？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.cancel()}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("确定")])],1)]),t._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover{{$index}}",arg:"popover{{$index}}"}],attrs:{size:"mini",type:"danger"}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1),t._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{layout:"prev, pager, next","current-page":t.currentPage,total:t.totalCount},on:{"current-change":t.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]};var o=a("VU/8")(n,r,!1,function(t){a("3kkv")},null,null);e.default=o.exports},"3kkv":function(t,e){}});
//# sourceMappingURL=6.36e5bfd01e951406168f.js.map