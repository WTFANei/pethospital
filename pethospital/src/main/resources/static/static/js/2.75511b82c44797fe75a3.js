webpackJsonp([2],{FQHp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("mvHQ"),s=r.n(i),n=r("Dd8w"),a=r.n(n),o=r("NYxO"),l={data:function(){var e=function(e,t,r){""===t?r(new Error("请输入！")):r()};return{isShow:!1,logining:!1,logintext:"登录",registertext:"注册",loginForm:{name:"",pwd:""},loginRules:{name:[{required:!0,validator:e,trigger:"blur"}],pwd:[{required:!0,message:"请输入秘密！",trigger:"blur"},{min:6,max:16,message:"must be over 6 numbers",trigger:"blur"}]},registerForm:{name:"",pwd:""},registerRules:{name:[{required:!0,validator:e,trigger:"blur"}],pwd:[{required:!0,message:"请输入秘密！",trigger:"blur"},{min:6,max:16,message:"must be over 6 numbers",trigger:"blur"}]}}},methods:a()({},Object(o.c)({setUser:"SET_USER"}),{registerSubmit:function(){var e=this,t=this;this.$refs.registerForm.validate(function(r){if(!r)return!1;t.logining=!0,t.registertext="Wait...",e.$ajax.post("/api/c/register",t.registerForm).then(function(e){0==e.data.code?(t.registertext="注册...",setTimeout(function(){t.logining=!1,t.$message({message:e.data.data,type:"success"}),t.$refs.registerForm.resetFields()},1200)):1==e.data.code&&t.$message({message:e.data.msg,type:"error"})}).catch(function(e){console.log(e)}),setTimeout(function(){t.logining=!1,t.registertext="注册"},3e3)})},handleSubmit:function(){var e=this,t=this;this.$refs.loginForm.validate(function(r){if(!r)return!1;t.logining=!0,t.logintext="Wait...",e.$ajax.post("/api/c/login",t.loginForm).then(function(e){0==e.data.code&&(t.logintext="Loging...",setTimeout(function(){t.logining=!1,t.$message({message:"登录成功",type:"success"}),sessionStorage.setItem("u",s()(e.data.data)),t.setUser(JSON.parse(sessionStorage.getItem("u"))),t.$router.push({path:"/userinfo"})},1e3))}).catch(function(e){console.log(e)}),setTimeout(function(){t.logining=!1,t.logintext="Enter"},3e3)})}})},g={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-wrap",attrs:{id:"indexLizi"}},[r("div",{staticClass:"login-title"}),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],ref:"loginForm",staticClass:"login-container",attrs:{model:e.loginForm,rules:e.loginRules}},[r("el-button",{staticClass:"change",attrs:{type:"text"},on:{click:function(t){e.isShow=!0}}},[e._v("注册")]),e._v(" "),r("div",{staticClass:"title"},[e._v("登录")]),e._v(" "),r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{attrs:{type:"text",placeholder:"admin",maxlength:20,size:"large"},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"pwd"}},[r("el-input",{attrs:{placeholder:"●●●●●●",type:"password",size:"large",maxlength:20},model:{value:e.loginForm.pwd,callback:function(t){e.$set(e.loginForm,"pwd",t)},expression:"loginForm.pwd"}})],1),e._v(" "),r("el-form-item",{staticClass:"login-btn",staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{size:"large",loading:e.logining},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e._v(e._s(e.logintext))])],1)],1),e._v(" "),r("el-form",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],ref:"registerForm",staticClass:"login-container",attrs:{model:e.registerForm,rules:e.registerRules}},[r("el-button",{staticClass:"change",attrs:{type:"text"},on:{click:function(t){e.isShow=!1}}},[e._v("登录")]),e._v(" "),r("div",{staticClass:"title"},[e._v("注册")]),e._v(" "),r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{attrs:{type:"text",placeholder:"名字",maxlength:20,size:"large"},model:{value:e.registerForm.name,callback:function(t){e.$set(e.registerForm,"name",t)},expression:"registerForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"pwd"}},[r("el-input",{attrs:{placeholder:"密码",type:"password",size:"large",maxlength:20},model:{value:e.registerForm.pwd,callback:function(t){e.$set(e.registerForm,"pwd",t)},expression:"registerForm.pwd"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"email",rules:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur,change"}]}},[r("el-input",{attrs:{placeholder:"邮箱"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),e._v(" "),r("el-form-item",{staticClass:"login-btn",staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"large",loading:e.logining},nativeOn:{click:function(t){return t.preventDefault(),e.registerSubmit(t)}}},[e._v(e._s(e.registertext))])],1)],1)],1)},staticRenderFns:[]};var m=r("VU/8")(l,g,!1,function(e){r("Q7ms")},"data-v-11e9af86",null);t.default=m.exports},Q7ms:function(e,t){},mvHQ:function(e,t,r){e.exports={default:r("qkKv"),__esModule:!0}},qkKv:function(e,t,r){var i=r("FeBl"),s=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}}});
//# sourceMappingURL=2.75511b82c44797fe75a3.js.map